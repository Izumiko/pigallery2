<div class="modal fade"
     [class.show]="modalData?.visible"
     [style.display]="modalData?.visible ? 'block' : 'none'"
     *ngIf="modalData">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">{{modalData.button.popup?.header || modalData.button.name}}</h4>
        <button type="button" class="btn-close" (click)="closeModal()"></button>
      </div>
      <div class="modal-body">
        <p *ngIf="modalData.button.popup?.body">{{modalData.button.popup.body}}</p>

        <!-- Media info -->
        <div class="media-info mb-3">
          <strong>Media:</strong> {{modalData.media.media.name}}
        </div>

        <!-- Form fields -->
        <div *ngIf="modalData.button.popup?.fields && modalData.button.popup.fields.length > 0">
          <div *ngFor="let field of modalData.button.popup.fields" class="mb-3">
            <label [for]="field" class="form-label">{{getFieldLabel(field)}}</label>
            <input [id]="field"
                   type="text"
                   class="form-control"
                   [(ngModel)]="formData[field]"
                   [value]="getFieldValue(field)">
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="closeModal()">Cancel</button>
        <button type="button" class="btn btn-primary" (click)="executeAction()">
          {{modalData.button.popup?.buttonString || 'Execute'}}
        </button>
      </div>
    </div>
  </div>
</div>
<div class="modal-backdrop fade"
     [class.show]="modalData?.visible"
     *ngIf="modalData?.visible"
     (click)="closeModal()"></div>
